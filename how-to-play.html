<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GeoRanks â€” How to Play</title>
  <link rel="stylesheet" href="css/home.css" />
  <link rel="stylesheet" href="css/game-modes.css" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #a7f3d0 0%, #38bdf8 100%);
      margin: 0;
      padding: 0;
    }

    .how-to-container {
      max-width: 800px;
      margin: 120px auto 40px;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 16px;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      animation: fadeInUp 0.8s ease-out;
    }


    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    h2 {
      font-size: 1.4rem;
      color: #333;
      margin-top: 1.5rem;
    }

    p, ul {
      font-size: 1rem;
      line-height: 1.6;
      color: #222;
    }

    ul {
      padding-left: 1.4rem;
    }

    .back-home {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.8rem 1.6rem;
      border-radius: 8px;
      background: linear-gradient(135deg, #ff9770, #ff6f61);
      color: white;
      text-decoration: none;
      font-weight: 600;
    }

    .back-home:hover {
      opacity: 0.9;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 600px) {
      .how-to-container {
        margin: 100px 20px 40px;
      }

      h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>

<!-- âœ… Header -->
<header class="home-glass-header">
  <div class="logo-header">
    <a href="index.html" class="logo-link">
      <img src="assets/logo.png" alt="GeoRanks Logo" />
    </a>
  </div>
  <div class="hamburger-menu">
    <div class="menu-icon" id="menuToggle">
      <span></span><span></span><span></span>
    </div>
  </div>
</header>

<!-- âœ… Sliding Menu -->
<div class="menu-overlay" id="menuOverlay">
  <div class="menu-panel">
    <h2>Menu</h2>
    <button class="menu-btn menu-daily-challenge" onclick="window.location.href='daily-challenge.html'" id="dailyChallengeMenuBtn">
  <div class="daily-bg" id="dailyChallengeBg"></div>
  <div class="daily-overlay"></div>
  <div class="daily-content">
    <h3 class="daily-title">ğŸ“… Daily Challenge</h3>
    <span class="daily-category" id="dailyChallengeCategory">Loading...</span>
  </div>
</button>
    <button class="menu-btn" onclick="window.location.href='index.html'">ğŸ  Home</button>
    <button class="menu-btn menu-btn-account" onclick="window.location.href='account.html'">ğŸ‘¤ Account</button>
    <button class="menu-btn" onclick="window.location.href='leaderboard.html'">ğŸ† Leaderboard</button>
    <button class="menu-btn" onclick="window.location.href='stats.html'">ğŸ“Š My Stats</button>
    <button class="menu-btn" onclick="location.href='feedback.html'">ğŸ’¬ Feedback</button>
    <button class="menu-btn" onclick="location.href='contact.html'">ğŸ“© Contact Us</button>
    <button class="menu-btn upgrade-access-btn" onclick="window.location.href='premium.html'">ğŸ”“ Unlock All Categories</button>
    <button class="menu-btn menu-close" id="closeMenu">Close</button>
  </div>
</div>

<!-- âœ… How To Play Content -->
<main class="how-to-container">
  <h1>How to Play</h1>
  <p>Welcome to <strong>GeoRanks</strong> â€” the country ranking challenge! Here's how it works:</p>

  <h2>ğŸ¯ Objective</h2>
  <p>You're given 10 countries and a single ranking category (like population, happiness, GDP, etc.). Your goal is to arrange the countries from highest to lowest based on that category.</p>

  <h2>ğŸ•¹ï¸ Gameplay</h2>
  <ul>
    <li>Select a category to start the game.</li>
    <li>Drag each country flag into a ranking slot, or tap to assign it to a number.</li>
    <li>Once all slots are filled, your results will be scored instantly.</li>
  </ul>

  <h2>ğŸ† Scoring</h2>
  <ul>
    <li>+1 point for each correct rank placement.</li>
    <li>No penalty for mistakes â€” aim for a perfect 10!</li>
  </ul>

  <h2>ğŸ’¡ Tips & Strategy</h2>
  <ul>
    <li>Think in extremes â€” whoâ€™s likely the biggest or smallest?</li>
    <li>Use what you know about regions, politics, culture, or sports.</li>
    <li>Guess wisely â€” and have fun doing it!</li>
  </ul>

  <a href="index.html" class="back-home">Back to Home</a>
</main>

<footer class="home-footer">
  <div class="footer-socials">
    <div class="icon-row">
      <a href="https://www.instagram.com/geo_ranks/" target="_blank" rel="noopener">
        <img src="assets/instagram.png" alt="Instagram" />
      </a>
      <div class="divider"></div>
      <a href="https://www.tiktok.com/@georanks" target="_blank" rel="noopener">
        <img src="assets/tik-tok.png" alt="TikTok" />
      </a>
      <div class="divider"></div>
      <a href="https://www.youtube.com/channel/UC8jrsBpCn09u0mHQle_O3Rw" target="_blank" rel="noopener">
        <img src="assets/youtube.png" alt="YouTube" />
      </a>
      <div class="divider"></div>
      <a href="https://x.com/Kieroncroo66687" target="_blank" rel="noopener">
        <img src="assets/x.png" alt="X" />
      </a>
    </div>
    <p>Â© 2025 GeoRanks</p>
  </div>
</footer>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const menuToggle = document.getElementById("menuToggle");
    const menuOverlay = document.getElementById("menuOverlay");
    const closeButton = document.getElementById("closeMenu");

    if (menuToggle && menuOverlay) {
      menuToggle.addEventListener("click", () => {
        menuOverlay.classList.add("active");
      });

      closeButton?.addEventListener("click", () => {
        menuOverlay.classList.remove("active");
      });

      menuOverlay.addEventListener("click", (e) => {
        if (e.target === menuOverlay) {
          menuOverlay.classList.remove("active");
        }
      });
    }
  });
</script>

<script type="module">
  import { supabase } from './js/supabase-client.js';

  const { data: { session } } = await supabase.auth.getSession();

  // Hide Account if user not logged in
  if (!session || !session.user) {
    document.querySelectorAll('.menu-btn-account').forEach(btn => btn.remove());
  }

  // Hide Unlock All Categories if user is premium
  if (session && session.user) {
    const { data: profile } = await supabase
      .from('users')
      .select('is_premium')
      .eq('id', session.user.id)
      .single();

    if (profile?.is_premium) {
      document.querySelectorAll('.upgrade-access-btn').forEach(btn => btn.remove());
    }
  }
</script>

<script type="module">
  import {
    getTodaysDailyChallenge,
    modeDisplayNames,
    categoryDisplayNames,
    categoryEmojis
  } from './js/daily-challenge.js';

  document.addEventListener('DOMContentLoaded', () => {
    const categorySpan = document.getElementById('dailyChallengeCategory');
    const bg = document.getElementById('dailyChallengeBg');

    const today = getTodaysDailyChallenge();

    if (today && categorySpan && bg) {
      const modeName = modeDisplayNames[today.mode] || today.mode.toUpperCase();
      const categoryName = categoryDisplayNames[today.category] || today.category;
      const emoji = categoryEmojis[today.category] || '';

      categorySpan.textContent = `${modeName}: ${categoryName} ${emoji}`;
      bg.style.backgroundImage = `url('images/categories/${today.category}.jpg')`;
    }
  });
</script>

</body>
</html>
